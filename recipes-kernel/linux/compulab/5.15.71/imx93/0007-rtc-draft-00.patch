From 7e7c82092cb49d147ab3077b9c530b5620061d1c Mon Sep 17 00:00:00 2001
From: Valentin Raevsky <valentin@compulab.co.il>
Date: Fri, 7 Apr 2023 19:59:57 +0300
Subject: [PATCH] rtc: draft #00

Signed-off-by: Valentin Raevsky <valentin@compulab.co.il>
---
 arch/arm64/boot/dts/compulab/ucm-imx93.dts | 7 +++++++
 arch/arm64/configs/ucm-imx93_defconfig     | 1 +
 2 files changed, 8 insertions(+)

diff --git a/arch/arm64/boot/dts/compulab/ucm-imx93.dts b/arch/arm64/boot/dts/compulab/ucm-imx93.dts
index 68a4c62f07a8..43cd7b4c07f3 100644
--- a/arch/arm64/boot/dts/compulab/ucm-imx93.dts
+++ b/arch/arm64/boot/dts/compulab/ucm-imx93.dts
@@ -357,6 +357,13 @@
                 #gpio-cells = <2>;
                 reg = <0x20>;
         };
+
+	rtc@69 {
+		compatible = "ab1805";
+		reg = <0x69>;
+		pagesize = <16>;
+		status = "okay";
+	};
 };
 
 &lpi2c2 {
diff --git a/arch/arm64/configs/ucm-imx93_defconfig b/arch/arm64/configs/ucm-imx93_defconfig
index 08a5f5a57ea9..69b87ea3c48a 100644
--- a/arch/arm64/configs/ucm-imx93_defconfig
+++ b/arch/arm64/configs/ucm-imx93_defconfig
@@ -805,6 +805,7 @@ CONFIG_EDAC_GHES=y
 CONFIG_EDAC_LAYERSCAPE=m
 CONFIG_EDAC_SYNOPSYS=y
 CONFIG_RTC_CLASS=y
+CONFIG_RTC_DRV_ABX80X=y
 CONFIG_RTC_DRV_DS1307=m
 CONFIG_RTC_DRV_HYM8563=m
 CONFIG_RTC_DRV_MAX77686=y
-- 
2.17.1

