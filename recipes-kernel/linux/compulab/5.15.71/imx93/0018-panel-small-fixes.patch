From a32957deec213e938010170d57732838c7f50244 Mon Sep 17 00:00:00 2001
From: Valentin Raevsky <valentin@compulab.co.il>
Date: Thu, 20 Apr 2023 11:58:31 +0300
Subject: [PATCH] panel: small fixes

Signed-off-by: Valentin Raevsky <valentin@compulab.co.il>
---
 drivers/gpu/drm/panel/panel-startek-ili9881c.c | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/panel/panel-startek-ili9881c.c b/drivers/gpu/drm/panel/panel-startek-ili9881c.c
index 79e688b6b615..6baa21706d5a 100644
--- a/drivers/gpu/drm/panel/panel-startek-ili9881c.c
+++ b/drivers/gpu/drm/panel/panel-startek-ili9881c.c
@@ -292,7 +292,7 @@ static int color_format_from_dsi_format(enum mipi_dsi_pixel_format format)
     case MIPI_DSI_FMT_RGB666_PACKED:
         return 0x66;
     case MIPI_DSI_FMT_RGB888:
-        return 0x7;
+        return 0x77;
     default:
         return 0x77;
     }
@@ -521,6 +521,13 @@ static int ili9881c_get_modes(struct drm_panel *panel,
             dt->hactive.min, dt->vactive.min);
         return -ENOMEM;
     }
+    dev_notice(&ctx->dsi->dev, "timing: pixelclock: device tree clocks %d %d %d\n",
+            dt->pixelclock.min, dt->pixelclock.typ, dt->pixelclock.max);
+    dev_notice(&ctx->dsi->dev, "timing: hactive: device tree clocks %d %d %d\n",
+            dt->hactive.min, dt->hactive.typ, dt->hactive.max);
+    dev_notice(&ctx->dsi->dev, "timing: vactive: device tree clocks %d %d %d\n",
+            dt->vactive.min, dt->vactive.typ, dt->vactive.max);
+
     drm_display_mode_from_videomode(&vm, mode);
 
     drm_mode_set_name(mode);
-- 
2.17.1

