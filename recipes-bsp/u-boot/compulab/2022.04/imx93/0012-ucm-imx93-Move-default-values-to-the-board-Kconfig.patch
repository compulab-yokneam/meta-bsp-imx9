From 9cf755ec57067613c4bd5fef9f44367bccc0495e Mon Sep 17 00:00:00 2001
From: Valentin Raevsky <valentin@compulab.co.il>
Date: Sat, 8 Apr 2023 22:01:39 +0300
Subject: [PATCH] ucm-imx93: Move default values to the board Kconfig

Signed-off-by: Valentin Raevsky <valentin@compulab.co.il>
---
 board/compulab/ucm-imx93/Kconfig | 26 ++++++++++++++++++++++++++
 configs/ucm-imx93_defconfig      |  6 ------
 2 files changed, 26 insertions(+), 6 deletions(-)

diff --git a/board/compulab/ucm-imx93/Kconfig b/board/compulab/ucm-imx93/Kconfig
index a18ac4da88..90bfa97580 100644
--- a/board/compulab/ucm-imx93/Kconfig
+++ b/board/compulab/ucm-imx93/Kconfig
@@ -9,6 +9,32 @@ config SYS_VENDOR
 config SYS_CONFIG_NAME
 	default "ucm-imx93"
 
+config DEFAULT_DEVICE_TREE
+	default "ucm-imx93"
+
+config DEFAULT_FDT_FILE
+	default "ucm-imx93.dtb"
+
+config ENV_IS_IN_MMC
+	bool
+	default y
+
+config ENV_OFFSET
+	hex
+	default 0x300000
+
+config ENV_SIZE
+	hex
+	default 0x4000
+
+config SYS_MMC_ENV_DEV
+	int
+	default 0
+
+config SYS_MMC_ENV_PART
+	int
+	default 1
+
 config UCM_IMX93_LPDDR4X
 	bool "Using LPDDR4X Timing and PMIC voltage"
 	default y
diff --git a/configs/ucm-imx93_defconfig b/configs/ucm-imx93_defconfig
index c747107b1d..b0b923388a 100644
--- a/configs/ucm-imx93_defconfig
+++ b/configs/ucm-imx93_defconfig
@@ -8,14 +8,10 @@ CONFIG_SPL_LIBGENERIC_SUPPORT=y
 CONFIG_NR_DRAM_BANKS=2
 CONFIG_SYS_MEMTEST_START=0x80000000
 CONFIG_SYS_MEMTEST_END=0x90000000
-CONFIG_ENV_SIZE=0x4000
-CONFIG_ENV_OFFSET=0x300000
 CONFIG_IMX_CONFIG=""
 CONFIG_DM_GPIO=y
-CONFIG_DEFAULT_DEVICE_TREE="ucm-imx93"
 CONFIG_SPL_TEXT_BASE=0x2049A000
 CONFIG_USB_TCPC=y
-CONFIG_DEFAULT_FDT_FILE="ucm-imx93.dtb"
 CONFIG_TARGET_UCM_IMX93=y
 CONFIG_SPL_SERIAL=y
 CONFIG_SPL_DRIVERS_MISC=y
@@ -68,10 +64,8 @@ CONFIG_CMD_EXT4_WRITE=y
 CONFIG_OF_CONTROL=y
 CONFIG_SPL_OF_CONTROL=y
 CONFIG_ENV_OVERWRITE=y
-CONFIG_ENV_IS_NOWHERE=y
 CONFIG_ENV_IS_IN_MMC=y
 CONFIG_SYS_RELOC_GD_ENV_ADDR=y
-CONFIG_SYS_MMC_ENV_PART=1
 CONFIG_ENV_VARS_UBOOT_RUNTIME_CONFIG=y
 CONFIG_NET_RANDOM_ETHADDR=y
 CONFIG_SPL_DM=y
-- 
2.17.1

